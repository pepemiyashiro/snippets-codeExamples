{"version":3,"sources":["../rw-star-rating.js"],"names":[],"mappings":";;;;;;;;;;IAAM,Y;;;AACF,4BAAc;AAAA;;AAEV;AAFU;;AAGV,cAAK,KAAL,GAAa,MAAK,YAAL,CAAkB,EAAE,MAAM,MAAR,EAAlB,CAAb;AACA;AACA,cAAK,KAAL,GAAa,IAAb;AACA,cAAK,QAAL,GAAgB,IAAhB;AACA;AACA,cAAK,SAAL,GAAiB,KAAjB;AACA,cAAK,MAAL,GAAc,CAAd;AACA,cAAK,QAAL,GAAgB,KAAhB;;AAEA,YAAI,YAAY,SAAS,aAAT,CAAuB,UAAvB,CAAhB;AACA,kBAAU,SAAV;;AAsEA,YAAI,OAAO,QAAX,EAAqB,SAAS,eAAT,CAAyB,SAAzB,EAAoC,gBAApC;AACrB,cAAK,UAAL,GAAkB,SAAS,UAAT,CAAoB,UAAU,OAA9B,EAAuC,IAAvC,CAAlB;AApFU;AAqFb;;;;4CAUmB;AAAA;;AAChB,gBAAI,OAAO,QAAX,EAAqB,SAAS,YAAT,CAAsB,IAAtB;AACrB,iBAAK,KAAL,CAAW,WAAX,CAAuB,KAAK,UAA5B;AACA,iBAAK,SAAL,GAAkB,KAAK,YAAL,CAAkB,UAAlB,MAAkC,IAApD;AACA,iBAAK,KAAL,GAAa,KAAK,KAAL,CAAW,aAAX,CAAyB,MAAzB,CAAb;AACA,iBAAK,QAAL,GAAgB,KAAK,KAAL,CAAW,aAAX,CAAyB,SAAzB,CAAhB;AACA,iBAAK,QAAL,CAAc,gBAAd,CAA+B,OAA/B,EAAwC,UAAC,KAAD,EAAW;AAC/C,oBAAI,OAAK,SAAL,KAAmB,IAAnB,IAA2B,MAAM,MAAN,CAAa,OAAb,CAAqB,KAArB,KAA+B,SAA9D,EAAyE;AACrE,wBAAI,OAAK,MAAL,KAAgB,MAAM,MAAN,CAAa,OAAb,CAAqB,KAAzC,EAAgD;AAC5C,+BAAK,aAAL,CAAmB,IAAI,KAAJ,CAAU,QAAV,CAAnB;AACA,+BAAK,KAAL,GAAa,MAAM,MAAN,CAAa,OAAb,CAAqB,KAAlC;AACH;AACJ;AACJ,aAPD;AAQA,gBAAM,eAAe,KAAK,YAAL,CAAkB,OAAlB,CAArB;AACA,gBAAI,iBAAiB,IAArB,EAA2B;AACvB,qBAAK,MAAL,GAAc,YAAd;AACA,qBAAK,OAAL;AACH;AACJ;;;kCACS;AACN,gBAAI,KAAK,KAAL,KAAe,IAAnB,EAAyB;AACrB,qBAAK,KAAL,CAAW,KAAX,CAAiB,KAAjB,GAA2B,KAAK,MAAL,GAAc,EAAf,GAAqB,CAAtB,GAA2B,GAApD;AACH;AACJ;;;iDAIwB,I,EAAM,Q,EAAU,Q,EAAU;AAC/C,gBAAI,aAAa,QAAjB,EAA2B;AACvB,wBAAQ,IAAR;AACI,yBAAK,UAAL;AACI,6BAAK,SAAL,GAAkB,aAAa,IAA/B;AACA;AACJ,yBAAK,OAAL;AACI,4BAAI,KAAK,QAAL,KAAkB,KAAtB,EAA6B;AACzB,iCAAK,MAAL,GAAc,QAAd;AACA,iCAAK,OAAL;AACH;AACD;AATR;AAWH;AACJ;;;0BAnDS,K,EAAO;AACb,gBAAI,KAAK,MAAL,KAAgB,KAApB,EAA2B;AAC3B,iBAAK,QAAL,GAAgB,IAAhB;AACA,iBAAK,MAAL,GAAc,KAAd;AACA,iBAAK,OAAL;AACH,S;4BACW;AACR,mBAAO,KAAK,MAAZ;AACH;;;4BA0B+B;AAC5B,mBAAO,CAAC,UAAD,EAAa,OAAb,CAAP;AACH;;;;EA3HsB,W;;AA6I3B,OAAO,cAAP,CAAsB,MAAtB,CAA6B,gBAA7B,EAA+C,YAA/C","file":"rw-star-rating.js","sourcesContent":["class RwStarRating extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        // Shadow Root\r\n        this._root = this.attachShadow({ mode: \"open\" });\r\n        // Elements\r\n        this._$top = null;\r\n        this._$bottom = null;\r\n        // Data\r\n        this._disabled = false;\r\n        this._value = 0;\r\n        this._touched = false;\r\n\r\n        let $template = document.createElement(\"template\");\r\n        $template.innerHTML = `\r\n            <style>\r\n                :host {\r\n                    width: 180px;\r\n                    height: 1em;\r\n                    display: inline-block;\r\n                    overflow: hidden;\r\n                    user-select: none;\r\n                    vertical-align: middle;\r\n                    box-sizing: border-box;\r\n                }       \r\n                \r\n                .container {                  \r\n                  color: var(--star-default-color, #c5c5c5);\r\n                  font-size: 1em;\r\n                  line-height: 1em;\r\n                  margin: 0 auto;\r\n                  position: relative;\r\n                  padding: 0;\r\n                  cursor: pointer;\r\n                }     \r\n                .container .top {\r\n                  color: var(--star-selected-color, #e7bd06);\r\n                  padding: 0;\r\n                  position: absolute;\r\n                  z-index: 1;\r\n                  display: block;\r\n                  top: 0;\r\n                  left: 0;\r\n                  overflow: hidden;\r\n                  width: 0;       \r\n                }\r\n                .container:hover .top {\r\n                    display: none;\r\n                }                             \r\n                .container .bottom {\r\n                  padding: 0;\r\n                  display: block;\r\n                  position: absolute;\r\n                  top: 0;\r\n                  left: 0;\r\n                  unicode-bidi: bidi-override;\r\n                  direction: rtl;\r\n                }\r\n                /* Credit: https://css-tricks.com/star-ratings/ */\r\n                .container .bottom > span:hover,\r\n                .container .bottom > span:hover ~ span {               \r\n                   color: var(--star-hover-color, #e7bd06);\r\n                }               \r\n                :host([disabled]) .container {\r\n                    cursor: inherit;\r\n                }\r\n                :host([disabled]) .container .top {\r\n                    display: block;\r\n                }\r\n                :host([disabled]) .container .bottom > span:hover,\r\n                :host([disabled]) .container .bottom > span:hover ~ span {\r\n                    color: inherit;\r\n                }\r\n            </style>\r\n            <div class=\"container\">\r\n                <div class=\"top\">\r\n                    <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>\r\n                </div>\r\n                <div class=\"bottom\">\r\n                    <span data-value=\"5\">★</span><span data-value=\"4\">★</span><span data-value=\"3\">★</span><span data-value=\"2\">★</span><span data-value=\"1\">★</span>                   \r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        if (window.ShadyCSS) ShadyCSS.prepareTemplate($template, \"rw-star-rating\");\r\n        this._$template = document.importNode($template.content, true);\r\n    }\r\n    set value(value) {\r\n        if (this._value === value) return;\r\n        this._touched = true;\r\n        this._value = value;\r\n        this._render();\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    connectedCallback() {\r\n        if (window.ShadyCSS) ShadyCSS.styleElement(this);\r\n        this._root.appendChild(this._$template);\r\n        this._disabled = (this.getAttribute(\"disabled\") !== null);\r\n        this._$top = this._root.querySelector(\".top\");\r\n        this._$bottom = this._root.querySelector(\".bottom\");\r\n        this._$bottom.addEventListener(\"click\", (event) => {\r\n            if (this._disabled !== true && event.target.dataset.value !== undefined) {\r\n                if (this._value !== event.target.dataset.value) {\r\n                    this.dispatchEvent(new Event(\"change\"));\r\n                    this.value = event.target.dataset.value;\r\n                }\r\n            }\r\n        });\r\n        const initialValue = this.getAttribute(\"value\");\r\n        if (initialValue !== null) {\r\n            this._value = initialValue;\r\n            this._render();\r\n        }\r\n    }\r\n    _render() {\r\n        if (this._$top !== null) {\r\n            this._$top.style.width = ((this._value * 10) * 2) + \"%\";\r\n        }\r\n    }\r\n    static get observedAttributes() {\r\n        return [\"disabled\", \"value\"];\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        if (oldValue !== newValue) {\r\n            switch (name) {\r\n                case \"disabled\":\r\n                    this._disabled = (newValue !== null);\r\n                    break;\r\n                case \"value\":\r\n                    if (this._touched === false) {\r\n                        this._value = newValue;\r\n                        this._render();\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nwindow.customElements.define(\"rw-star-rating\", RwStarRating);\r\n"]}